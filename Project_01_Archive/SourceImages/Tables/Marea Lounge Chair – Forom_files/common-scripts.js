$(document).ready(function(){function submenu_open_classes(link_primary){var clicked=link_primary.parents().eq(1);$(".primary-link").not(clicked).removeClass("active"),$(".primary-link").not(clicked).removeClass("was-active"),link_primary.parents().eq(1).addClass("active").find(".linklist").addClass("is-open"),link_primary.parents().eq(1).addClass("was-active"),link_primary.parents(".drawer__scrollable").prev(".drawer__fixed-header").addClass("megamenu-open"),link_primary.parents(".drawer__scrollable").addClass("megamenu-open")}function submenu_close_classes(link_primary){link_primary.parents().eq(1).find(".linklist").removeClass("is-open"),link_primary.parents(".drawer__scrollable").prev(".drawer__fixed-header").removeClass("megamenu-open"),link_primary.parents(".drawer__scrollable").removeClass("megamenu-open"),link_primary.parents(".primary-link").removeClass("active")}$(".mobile-nav__has-sublist .mobile-nav__link--top-level").click(function(e){e.preventDefault(),e.stopPropagation();var link_primary=$(this);submenu_open_classes(link_primary)}),$("#NavDrawer .linklist .back-to-main").click(function(){var link_primary=$(this);submenu_close_classes(link_primary)}),$('a[href="#search-open"] .icon-search').click(function(e){e.preventDefault(),e.stopPropagation(),$(".site-header .predictive-search-wrapper").fadeToggle(),$(".site-header").toggleClass("search-open")});function show_or_hide_swatchText(){var swatch_product=!1;$("#CartDrawer #CartDrawerForm .cart__item").each(function(){var product_name=$(this).find(".cart__item-name").text().trim();(product_name=="Rug Swatch"||product_name=="Swatch")&&(swatch_product=!0)}),swatch_product?$("#CartDrawer #CartDrawerForm .swatch-text").removeClass("hide"):$("#CartDrawer #CartDrawerForm .swatch-text").addClass("hide")}$(window).on("load",function(){show_or_hide_swatchText(),swatch_cart(),update_cart_count()}),$(document).on("cart:updated",function(evt){setTimeout(function(){show_or_hide_swatchText(),swatch_cart()},100),setTimeout(function(){show_or_hide_swatchText(),swatch_cart()},1e3),setTimeout(function(){show_or_hide_swatchText(),swatch_cart()},2e3)});function swatch_cart(){var swatch_product=!1;$(".template-cart .cart__page .cart__item").each(function(){var product_name=$(this).find(".cart__item-name").text().trim();(product_name=="Rug Swatch"||product_name=="Swatch")&&(swatch_product=!0)}),swatch_product?$(".template-cart .swatch-text").removeClass("hide"):$(".template-cart .swatch-text").addClass("hide")}function update_cart_count(){theme.cart.getCart().then(function(cart){var item_count=cart.item_count;$(".site-nav__icons .cart-link .cart-link__bubble").html(item_count)})}setTimeout(function(){update_cart_count()},1e3),setTimeout(function(){update_cart_count()},500),$(document).on("cart:updated",function(evt){update_cart_count()}),$(document).on("ajaxProduct:added",function(evt){update_cart_count()}),window.ZapietEvent.listen("widget_loaded",function(){window.ZapietEvent.listen("selected_method",function(checkout_method){switch(checkout_method){case"pickup":window.ZapietEvent.listen("locationSelected",function(){setTimeout(function(){$(".Zapiet-Modal__Wrapper .Zapiet-Modal__Content .Zapiet-Modal__Close-Button").html('<a style="fill: #332C2B;opacity: 1;float: right;position: relative;top: -20px;left: 20px;" href="javascript:void(0)" class="Zapiet-Modal__Close-Button"><svg id="raven_close_button" style="    background: #E9E8E0;    border: 1px solid #332C2B;    width: 24px;    border-radius: 25px;    width: 24px;  ;" viewBox="0 0 20 20"><path d="M15.3025 13.5362L13.535 15.3037L10 11.7675L6.465 15.3037L4.6975 13.5362L8.2325 9.99999L4.6975 6.46499L6.465 4.69749L10 8.23249L13.535 4.69749L15.3025 6.46499L11.7675 9.99999L15.3025 13.5362ZM10 0C4.4775 0 0 4.4775 0 10C0 15.5238 4.4775 20 10 20C15.5225 20 20 15.5238 20 10C20 4.4775 15.5225 0 10 0Z"></path></svg></a>')},100)});break;case"delivery":break;case"shipping":break}})});function show_btns(){window.ZapietEvent.listen("selected_method",function(){setTimeout(function(){$(".cart__page .additional-checkout-buttons, .cart__page .dynamic-checkout__content").show()},100)})}show_btns(),$(".template-customers-register .errors li").text().indexOf("verify your email address")>0&&$(".template-customers-register .errors").addClass("not-error")}),$("[data-save-price]").text(function(_,text){return text.trim()});
//# sourceMappingURL=/cdn/shop/t/187/assets/common-scripts.js.map?v=32236803037425940041733916446
